export class SmartBox{constructor(t){"static"==getComputedStyle(t).position&&(t.style.position="relative"),t.style.overflow="hidden",this.ActiveBox=document.createElement("div"),this.ActiveBox.style="position:absolute;height:100%;width:100%;",this.InactiveBox=this.ActiveBox.cloneNode(),[this.ActiveBox.innerHTML,t.innerHTML]=[t.innerHTML,""],this.#a(e=>t.appendChild(e))}async Replace(t,e,i,s,o=.7){e(),this.InactiveBox.innerHTML=await fetch(t).then(t=>t.text()),this.InactiveBox.offsetHeight,this.#a(t=>t.style.transition=`${o}s`),i(),this.InactiveBox.addEventListener("transitionend",()=>{this.#a(t=>t.style.removeProperty("transition")),this.ActiveBox.innerHTML="",s(),[this.InactiveBox,this.ActiveBox]=[this.ActiveBox,this.InactiveBox]},{once:!0})}Hide(t,e){this.Replace(t,()=>this.InactiveBox.style.opacity=0,()=>{this.ActiveBox.style.opacity=0,this.InactiveBox.style.opacity=1},()=>this.#a(t=>t.style.removeProperty("opacity")),e)}MoveUp(t,e){this.Replace(t,()=>this.InactiveBox.style.translate="0% 100%",()=>{this.InactiveBox.style.translate="0% 0%",this.ActiveBox.style.translate="0% -100%"},()=>this.#a(t=>t.style.removeProperty("translate")),e)}MoveDown(t,e){this.Replace(t,()=>this.InactiveBox.style.translate="0% -100%",()=>{this.InactiveBox.style.translate="0% 0%",this.ActiveBox.style.translate="0% 100%"},()=>this.#a(t=>t.style.removeProperty("translate")),e)}MoveRight(t,e){this.Replace(t,()=>this.InactiveBox.style.translate="-100% 0%",()=>{this.InactiveBox.style.translate="0% 0%",this.ActiveBox.style.translate="100% 0%"},()=>this.#a(t=>t.style.removeProperty("translate")),e)}MoveLeft(t,e){this.Replace(t,()=>this.InactiveBox.style.translate="100% 0%",()=>{this.InactiveBox.style.translate="0% 0%",this.ActiveBox.style.translate="-100% 0%"},()=>this.#a(t=>t.style.removeProperty("translate")),e)}#a(t){t(this.ActiveBox),t(this.InactiveBox)}}